<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<title>Uklon — Проверка расчёта</title>

<style>
  :root{
    --bg:#f2f4f7;
    --card:#ffffff;
    --accent:#0066ff;
    --green:#c8f5c2;
    --red:#ffd4d4;
    --good:#0c7a27;
    --bad:#a80000;
    --muted:#6b6b6b;
  }

  body{
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial;
    background:var(--bg);
    margin:0;
    padding:0;
    color:#111;
  }

  .wrap{
    max-width:600px;
    margin:0 auto;
    padding:16px;
  }

  h1{
    font-size:22px;
    font-weight:700;
    margin:0 0 16px;
    text-align:center;
  }

  .card{
    background:var(--card);
    border-radius:16px;
    padding:18px;
    box-shadow:0 6px 18px rgba(0,0,0,0.06);
    margin-bottom:16px;
  }

  label{
    font-size:15px;
    color:var(--muted);
    margin-bottom:6px;
    display:block;
  }

  input[type="number"]{
    width:100%;
    padding:14px 12px;
    font-size:18px;
    border-radius:12px;
    border:1px solid #d8dce3;
    margin-bottom:12px;
    box-sizing:border-box;
  }

  input[type="number"]:focus{
    outline:none;
    border-color:var(--accent);
    box-shadow:0 0 0 2px rgba(0,102,255,0.2);
  }

  .btn{
    width:100%;
    background:var(--accent);
    color:white;
    padding:14px;
    border-radius:12px;
    border:0;
    font-size:18px;
    margin-top:6px;
    font-weight:600;
  }

  .results{
    display:flex;
    flex-direction:column;
    gap:16px;
  }

  .panel{
    background:#fff;
    border-radius:16px;
    padding:16px;
    border:1px solid #e7e9ee;
  }

  .panel h3{
    margin:0 0 10px;
    font-size:18px;
  }

  .line{
    display:flex;
    justify-content:space-between;
    padding:8px 0;
    font-size:16px;
    border-top:1px solid #eee;
  }

  .line:first-of-type{
    border-top:0;
    padding-top:0;
  }

  .val{
    font-weight:700;
  }

  .diff{
    padding:6px 12px;
    border-radius:10px;
    min-width:90px;
    text-align:center;
    font-weight:600;
    display:inline-block;
  }

  .zero{
    background:#f4f4f4;
    border:1px dashed #ccc;
    color:#555;
  }

  @media (max-width:480px){
    h1{ font-size:20px; }
    .panel h3{ font-size:17px; }
  }
</style>
</head>

<body>
<div class="wrap">
  <h1>Проверка расчёта Uklon</h1>

  <div class="card">

    <label for="actual">Фактическая сумма, грн</label>
    <input id="actual" type="number" placeholder="например 155">

    <label for="distance">Пробег, км</label>
    <input id="distance" type="number" step="0.01" placeholder="например 3.0">

    <label for="coef">Коэффициент</label>
    <input id="coef" type="number" step="0.01" value="1">

    <button class="btn" id="calcBtn">Посчитать</button>
  </div>

  <div class="results">

    <div class="panel">
      <h3>Стандарт</h3>
      <div class="line">
        <span>Расчётная сумма</span>
        <span class="val" id="stdCalc">—</span>
      </div>
      <div class="line">
        <span>Разница</span>
        <span class="diff zero" id="stdDiff">—</span>
      </div>
    </div>

    <div class="panel">
      <h3>Комфорт</h3>
      <div class="line">
        <span>Расчётная сумма</span>
        <span class="val" id="cfCalc">—</span>
      </div>
      <div class="line">
        <span>Разница</span>
        <span class="diff zero" id="cfDiff">—</span>
      </div>
    </div>

  </div>

</div>

<script>
const STD = {minKm:1.9, base:100, perKm:17};
const CFM = {minKm:2.1, base:115, perKm:19.8};

function calcFare(km, t){
  if(km <= t.minKm) return t.base;
  return t.base + (km - t.minKm) * t.perKm;
}

function fmt(x){
  return isNaN(x) ? "—" : x.toFixed(2) + " ₴";
}

function colorize(el, value){
  el.className = "diff";
  if(isNaN(value)){
    el.classList.add("zero");
    el.textContent = "—";
    return;
  }
  el.textContent = value.toFixed(2) + " ₴";

  if(value > 0){ el.style.background = "var(--green)"; el.style.color = "var(--good)"; }
  else if(value < 0){ el.style.background = "var(--red)"; el.style.color = "var(--bad)"; }
  else el.classList.add("zero");
}

document.getElementById("calcBtn").onclick = function(){

  let actual = parseFloat(document.getElementById("actual").value);
  let km = parseFloat(document.getElementById("distance").value);
  let coef = parseFloat(document.getElementById("coef").value);

  if(isNaN(km) || isNaN(coef)){
    alert("Введите корректные данные");
    return;
  }

  let std = calcFare(km, STD) * coef;
  let cfm = calcFare(km, CFM) * coef;

  document.getElementById("stdCalc").textContent = fmt(std);
  document.getElementById("cfCalc").textContent = fmt(cfm);

  colorize(document.getElementById("stdDiff"), actual - std);
  colorize(document.getElementById("cfDiff"), actual - cfm);
};
</script>

</body>
</html>
